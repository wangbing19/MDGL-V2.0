<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vs.cus.mapper.CusConsultationMapper">

	<!-- 基于用户名/电话的查询条件sql引用语句 -->
	<sql id="queryWhereId">
       <where>
			<!-- name条件 -->
			<if test="name!=null and name!=''">
				name like concat("%",#{name},"%")
			</if>
			
		</where>
	</sql>
	
	<!-- 基于用户姓名及分页条件查询,无用户名输入基于分页条件查询 -->
	<select id="findPageObjects" resultType="com.vs.vision.pojo.cus.CusConsultation">
		select *
		from cus_consultation 
        <include refid="queryWhereId"/>
		limit #{startIndex},#{pageSize}
	</select>



</mapper>